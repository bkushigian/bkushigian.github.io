---
layout: post
title: "poker diaries, volume 3: variance"
date: 2024-07-09 20:00:00 -0800
comments: true
draft: false
published: false
categories: poker
tags: poker
group: poker-diaries
permalink: /poker-diaries-3-variance/
---

<div markdown="1" style="margin:1em; margin-top:2em;" >
![Cumulative winnings through first three weeks](/assets/img/poker_diaries/003_graph_w3_cumulative.png)
</div>

<hr style="margin:2em;">

I'm wrapping up week three of my little poker experiment and I hit a bit of a
rough patch, so I thought this would be a great time to talk about variance.
I'm going to start off with some some high level stuff about this past week,
then talk about variance in general. I go into some nitty gritty hand review
details in [this week's companion
post]({{site.baseurl}}/poker-diaries-3-hand-reviews/).

## recapping the week

<div>
<div markdown="1" style="margin:1em; margin-top:2em;">
![Week three's session](/assets/img/poker_diaries/003_graph_w3.png)
</div>

<div markdown="1" style="margin:1em; margin-top:2em;">
![Week three's session](/assets/img/poker_diaries/003_stats_w3.png)
</div>
<div><font size="-1">
<p><i>
    My graph and stats from this past week. All the big pots went the wrong way.
    I ran big hands into straights and flushes a bunch, lost some flips, ran a
    triple barrel bluff into top pair, and overall ran pretty bad. I was down 4
    buyins (that is, -$400) halfway through Saturday's session, but a player who
    I'd tagged as a button clicker (that is, a spewy fish), donated $250 to me
    over two hands, which somewhat saved my session.
</i></p>
<p><i>
    Sunday was largely break even until I won a couple big pots, then lost 4
    buyins over the course of about 30 hands (a few minutes). I decided to sit
    out.
</i></p>
</font></div>
</div>

<hr style="margin:2em;">

My Friday session, which I covered in [volume 2][volume-2], went well enough,
but after that things took a turn.  I played sessions on Saturday and Sunday,
with most of my volume at $100nl, and lost just about every pot.  I ran a couple
bluffs that may or may not have been advisable, and I took a line with KK that
is a thing in theory (at least in some spots) but maybe not so much in practice.

I also played some hands really well, and the truth is that I just always had
the second best hand. I lost with sets, two pair, and overpairs repeatedly.
You're just gonna lose money when that happens. I'm a little frustrated at always
having the losing hand, but that's just poker. I'm more frustrated that I pushed
a little too hard, made some questionable high variance decisions, and ended up
having to sit out because I wasn't sure I could trust my decision making.
More on that [in this week's hand review companion post]({{site.baseurl}}/poker-diaries-3-hand-reviews/).

<hr style="margin:2em;">

### saturday

<div markdown="1" style="margin:1em; margin-top:2em;" >
![Saturday's swingy session](/assets/img/poker_diaries/003_a_swingy_session.png)
<div><font size="-1">
<p><i>
    My graph from Saturday. All the big pots were going the wrong way. I ran big
    hands into straights three times, lost some flips, ran a triple barrel bluff
    into top pair, and overall ran pretty bad. I was down 4 buyins (that is,
    -$400) halfway through the session, but a player who I'd tagged as a button
    clicker (that is, a spewy fish), donated $250 to me over two hands, which
    somewhat saved my session.
</i></p>
</font></div>
</div>

I've continued struggling with sleep, but I should be back on my sleep schedule
finally (I hope). Since I was low on sleep I  played 3 tables instead of 4 on
Saturday, leading to more focus but at a lower volume. This is a slam dunk
decision, and I think 3 tabling is actually kind of overpowered at my current
level, especially while I'm trying to improve.


I started earlier in the day (maybe 3pm or so), and was just running into it. I
sat out after a couple hours down $340, and sat back in a couple hours later,
and after some initial runbad, I broke even for a couple hours before a player
kindly donated $250 to me at the end of the session.  I played pretty well
overall, but I misplayed a couple spots, and that definitely cost me some money,
but they weren't easy spots (well, one of them was, and I should have saved $30
on a river).

### sunday

<div markdown="1" style="margin:1em; margin-top:2em;" >
![Sunday's downswing](/assets/img/poker_diaries/003_graph_sunday_downswing.png)
<div><font size="-1">
<p><i>
    My graph from Sunday. Everything was going fine until...
</i></p>
</font></div>
</div>
I felt better rested on Sunday and hopped into some games. Games were good but I
couldn't make a hand so I was largely break even until I won a couple of pots in
quick succession. I had been just about ready to take a break so I sat out.

I rowed and got a run in (this is one of my favorite parts of playing poker: I
exercise a _ton_ to relieve stress), had some lunch, and then sat back in.  I
won a few pots and was feeling good until I got stacked in a 3bet pot w/ KK.  I
took a line that I have definitely seen in solver land, and I understand at a
high level why this is happening, but I'm not sure if it makes sense in
practice, especially when you take mental game aspects into account.
I quickly lost a few more big pots, including a river bluff that I should not
have fired (I actually like it a lot in theory, but in practice it is torching).

This is a common theme of mine, and probably the root of my biggest leak. I find
some really cool lines, and versus better players they might work. However, I'm
not playing against better players. I'm playing against bad players who tell me
they have good hands, and I just shouldn't have any bluffs here.

Balancing considerations is a common problem, and it's hard to do. My first
thought shouldn't be "I have a great bluff combo". It should be "Is this node
underbluffed or overbluffed? Should I have any bluffs at all?"

I'm very good at extracting value from bad players. In many ways I think of
myself as a fish whisperer. I'm able to pick up on subtle timings, read into
their sizings, and often I can narrow their range down to their exact hand.

However, when a bad player tells me exactly what they have and I've been the
aggressor with a good hand (or a good bluffing candidate), I have a very hard
time letting the hand go. I think of this as a kind of mental rigidity that I
need to break out of, an inflexibility of the mind. My opponent has done a weird
thing, and it almost certainly means strength, and now it's incumbent upon me to
let my hand go. This is maybe my biggest leak right now. I am very strong at
reasoning through spots but sometimes I don't know how to let up on the gas, or
fold two pair when the flush comes in and the fish snap jams. This can lead to
some pretty amazing plays, but also some pretty spectacular punts.

And truth be told, I kind of like this about my game. I am not easy to play
against, and while these tendencies cost me money this week they have made me
money lots of other weeks. This is not an issue of removing my aggression from
the game, but rather an issue of refining it.

## variance (in poker)

I lost $288 over 2,051 hands this week. To the uninitiated this might seem like
a big loss, but this is nothing. I've way more in less time. Losses are part of
the game.  But lots of people would see this session and be freaked out. So I
figured I'd chat a bit about the role that variance plays in poker, and
ultimately in life.

There is randomness in poker, as there is in everything. When there is
randomness we can talk about certain statistical properties such as the _mean_.
Roughly, the mean of some random event is what we expect to happen, on average,
if we were to observe that random event a bajillion times. Yeah yeah, this
definition is a bit circular, but it gets the point across so let's not let that
stop us. The mean is sometimes called the _expected value_, or _EV_. In poker
and in life we want to do things that have positive expected value.

Another property in the face of randomness is _variance_.  An intuitive
definition of variance is how much data points differ from the mean. High
variance means that data points often lie a long ways away from the mean, or
expected, outcome. Low variance means that the data points will always be
relatively close to the expected outcome.

For instance, flipping a coin for $1 has much lower variance than flipping a
coin for $1,000,000. Both have an expected value of $0 (I win and lose half the
time in both scenarios), but the outcomes of the flip for $1,000,000 are
1,000,000 times further away from the mean of $0 than the outcomes of the flip
for $1.

We measure the amount of variance in poker winrates with _standard deviation_,
which is in units of bb/100. On average, no limit holdem winrates have a
standard deviation of about 100bb/100. This means that every hundred hands we
are 70% confident that our results will be within 100bb of our expected winrate.
That's actually pretty crazy: 30% of the time we will be a buyin above or a
buyin below our expected win rate!

We can visualize variance using the [Prime Dope variance calculator][prime-dope].
Prime dope simulates playing a bunch of poker hands, modeled as a distribution
with a mean and some variance.  For starters, let's plug in a modest winrate of
2.5bb/100 with 100bb/100 variance and look at the distributions of outcomes

<div markdown="1" style="margin:1em; margin-top:2em;" >
![Prime Dope's simulation of running 100 hands with a 2.5bb/100 winrate and 100bb/100 variance](/assets/img/poker_diaries/003_primedope_2_5bb_100_hands.png)
</div>

This graph shows 20 different simulations of playing 100 hands with the provided
winrate and variance.  The dark black line is the mean result, or expected
value; by the end of 100 hands, our 2.5bb/100 winrate yields 2.5 big blinds of
expected profit. The light green parabolic-looking curve shows our 70%
confidence interval: we expect 70% of our simulations to fall within these
lines. Similarly, the dark green curve shows our 95% confidence interval.

The graph shows that we lose money approximately half the time and win money
approximately half the time, and there is about a 1 in 20 chance that we lose 4
buyins in 100 hands.

This seems stupid: why would you ever play poker if it's so dominated by luck?
Clearly this is just degenerate gambling?

Well, let's increase the sample size a bit. Here I have a slightly higher win
rate of 5bb/100 over 1,000 hands instead of 100. This is what I conservatively
expect my winrate is against the 100nl pool (or will be with a bit more
practice/study).

<div markdown="1" style="margin:1em; margin-top:2em;" >
![Prime Dope's simulation of running 100k hands with a 5bb/100 winrate and 100bb/100 variance](/assets/img/poker_diaries/003_primedope_5bb_100k_hands.png)
</div>

If you look closely you can see a thin black line at zero, and most of the
simulations are at or above this line. In fact, our 70% confidence interval line
(light green parabolic-looking thing) is now solidly above the zero line,
meaning 70% of the time we play 100k hands we will win _something_.
Still, there are a couple of negative lines that go below zero, and one line
goes 5,000bb below (bold maroon line at the bottom)!  That means there is about
a 1 in 20 chance to lose 50 buyins even though on average you should be winning
50 buyins on average. Of course, there is also a chance you run _above_ EV and
win 100 buyins instead of your expected 50 (bold light blue line at the top).

But all this to say: even after _a hundred thousand hands_ there is a good (1 in
20) chance that you'll be down a lot of money.

There is a flip side to this as well: there are many players who are absolutely
losing in expectation but who hit the high side of variance and think they are
winners. It's very tempting to believe that you are just experiencing negative
variance, and half the time you are. The fact is, our brains are just not very
good at reasoning about this stuff, and this is why it's important to be process
oriented: we need to review hands, study theory and strategy, look at population
tendencies, and most importantly, _be honest with ourselves_. Removing biases
and holding ourselves accountable is crucial for improvement.

We, as human beings, are very strongly results-oriented. We see a good outcome
and think "we played well". We see a bad outcome and think "we played bad". Just
look at sports discourse: people are arguing about variance and have no idea.

Overcoming our human results-oriented bias is not easy. We need to actively
focus on things we can control: making good decisions, both on the table and
off.  At the table we want to stick to our strategy, pay attention to our
opponents actions/timings/showdown, check in with ourselves to ensure we are
emotionally level, etc.  Away from the we want to focus on building and sticking
to a routine, getting enough sleep, eating well, taking time off, spending time
with loved ones, and, of course, studying our asses off and inspecting our game
with a fine-toothed comb.

Acknowledging our leaks is the only way we can get better. This is hard in the
face of variance.  When I win 5 buyins I want to come away and say "I played
awesome and I'm amazing". When I lose 5 buyins I want to say "I ran so bad, just
variance". But in either case there will be lots of hands where I left a bit of
money on the table. Maybe a dollar here, three dollars there. Being able to
review a session, winning or losing, ignore the variance, and focus on the small
edges we missed, is the only way to reach our potential.
Ignore the variance. It goes away with sample size.  _"Yes I ran absolutely
horribly, and my runbad cost me 5 buyins, but the real takeaway is that I made
these three mistakes that cost me a total of half a buyin."_

<hr style="margin:2em;">

Just for shits and giggles, before moving on, let's look at a million hand sample:

<div markdown="1" style="margin:1em; margin-top:2em;" >
![Prime Dope's simulation of playing a million hands with a 5bb/100 winrate and 100bb/100 variance](/assets/img/poker_diaries/003_primedope_5bb_1m_hands.png)
</div>

There is still a lot of variance here, but now every simulation is winning, and
the 95% confidence interval fluctuates between winning at 3bb/100 and 7bb/100.
Even after _a million fucking hands_ we can still experience relatively big
deviations in our observed winrate!


## variance (in life)

Variance dominates our lives, whether we like it or not. We can often view
variance as bad, but I like to think of it as the spice of life. It's what keeps
things interesting. Without it, we'd never have a bad meal, sure, but we'd also
never have an _incredible_ meal.

Variance can be problematic, especially if not approached carefully. See, the
downside of variance can be much costlier than the upside. Going back to our
coin flip game, suppose you and I both actually had a million dollars (exactly
one million). Flipping a coin for a single dollar would have no impact on our
lives, and in fact we could do it thousands of times without statistically
changing our life in the slightest. On average neither of us would win any money
(the man is $0). Flipping for $1,000,000 likewise has a mean of $0, but you
probably feel like it's a much worse idea than flipping for $1. Why? More
variance.

See, the variance is in the amount of money we have, and each additional dollar
we own is worth a little less than the previous dollar. If I am broke and I get
$1,000, I can pay rent, buy groceries, etc. My life went from homeless and
starving to living indoors and being well fed.

But if I have a million dollars and I get $1,000 my life won't change. I might
not even notice!

Think about that: life changing money for the first broke version of me isn't
even noticeable for the second rich version of me. This demonstrates the
_diminishing marginal utility_ of each dollar we own. And understanding this is
crucial when we reason about risk.

Anyway, I don't wanna go too far down that rabbit hole, it's not really the
point. However, I do want to talk about variance and how it affects me as a
poker player and a human being.

[volume-2]: https://bkushigian.github.io/2024/07/06/poker-diaries-volume-2.html
[prime-dope]:https://www.primedope.com/poker-variance-calculator/